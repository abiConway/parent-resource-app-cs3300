var UcwNj=class{constructor(a,b){this.userId=a;this.method=b}toJSON(){return{name:"enteredOrgChartEditMode",userId:this.userId,method:this.method}}};function UcxNj(a,b,c,d,e,f,g,h,k,l=!1,m=Uczg()){c=a.enf(b,l,c,f);l=a.oi.build("reverse",UcPH);l.Kd.Ma(c.id);l.sWb.Ma(!0);c=a.oi.build("mapped",UcdF);c.Kd.Ma(l.id);const n=new Map,p=new Map;l=(q,r)=>{"SemanticKind"===r.type?p.set(q,r.value):n.set(q,r.value)};l("018__Id__",d);l("018__Name__",e);f&&l("018__ImageUrl__",f);c.Hs.Ma(n);c.ATb.Ma([...p]);d=a.oi.build("sort",UcbF);d.Kd.Ma(c.id);d.KN.Ma(m);d.Mna.Ma([UcEv("018__Name__")]);d.XXa.Ma(!0);m=a.oi.build("tree",UcSHe);m.Kd.Ma(d.id);m=m.id;k&&(d=a.oi.build("Tree Filter",
UcpI),d.Kd.Ma(m),d.DI.Ma(k),m=d.id);k={qd:new Map([["Items",{KB:m}]])};m={};m[UcTqe.key]=!0;g&&(m[Uc7L.key]=g);h&&(m[UcThi.key]=h);(b instanceof UcKD?UcmZe(a.Xb,b,["Items"]).reduce((q,r)=>r.items.values().length+q,0):b.items.values().length)>a.WXg&&(m[UcRoh.key]=2,m[Uczoh.key]={LayoutType:2,NodeSpacing:{SiblingSeparation:20,NeighborSeparation:40,LevelSeparation:40},LeafList:{ListSeparation:40,ListOffset:40}});m[UcJTd.key]=a.vsb.Vp.value.font;return{graphDefinition:k,properties:m}}
var UcyNj=class{constructor(a,b,c,d){this.Xb=a;this.Sb=b;this.oi=c;this.vsb=d;this.WXg=300}enf(a,b,c,d){if(a instanceof UcKD){var e=this.oi.build("nodes",UcYH);e.t4.Ma(b);e.Gpc.Ma([a.id]);e.aEd.Ma(new Map([["Items","tree"]]));a=this.oi.build("edges",UcC1e);a.Iv.Ma(e.id);a.cJa.Ma(c);c=this.oi.build("addedFields",UchI);c.Kd.Ma(a.id);UcfSg(c,[new Ucbs("018__ImageUrl__",3)]);return c}e=a.id;d||a.lb.value.fields.find(f=>"018__ImageUrl__"===f.name)||(e=this.Ovf(a.id,[new Ucbs("018__ImageUrl__",3)]),Uc1re(this.Sb,
e),e=e.identifier);d=this.oi.build("graph",Uc8H);d.t4.Ma(b);d.nz.Ma([e]);d.qga.Ma(new Map([[e,"tree"]]));e!==a.id&&(b=c.get(a.id))&&(c.delete(a.id),c.set(e,b));d.cJa.Ma(c);return d}Ovf(a,b){return{identifier:Uczg(),type:"AddedFields",name:"optionals",Kd:a,aF:Uczg(),LR:b}}};UcyNj=__decorate([Ucr(),__metadata("design:paramtypes",[UcCH,Uc7B,UcaW,UcuC])],UcyNj);function UczNj(a,b){if(0<b){const c=1===b?i18n.get("orgchart-new-page"):i18n.get("orgchart-new-pages");a.Kb.wc(new Uc3m({message:c,hc:1===b?"orgchart-new-page":"orgchart-new-pages"},{type:2}))}}function UcANj(a,b,c,d,e,f,g,h,k,l,m,n=!1,p=Uczg()){c=UcxNj(a.qTl,c,d,f,g,h,k,l,m,n,p);b=a.On.Zha(b,e,Uces(c.graphDefinition),void 0,void 0,c.properties);a=a.getGenerator(b);a instanceof Uc60&&(null==h&&(h=a.qd.value&&a.qd.value.items)&&h.rda("018__ImageUrl__","Image"),UcsTg(a));return b}
var UcI4=class extends UcpZ{constructor(a,b,c,d,e,f,g,h,k,l,m,n,p,q){super(...a);this.viewport=b;this.Kb=c;this.user=d;this.Ya=e;this.rDc=f;this.tF=g;this.Sb=h;this.fSj=k;this.sxa=l;this.On=m;this.LN=n;this.XSl=p;this.qTl=q;this.ba={eUl:i18n.get("orgchart-type-empty-primary-key"),u7k:i18n.get("orgchart-paste-non-orgchart-shape"),v7k:i18n.get("orgchart-paste-other-document")};this.WXg=300}wQ(a){return(a=a.qd.value)&&a.items}bpc(){this.On.Rx(this.ba.u7k,"orgchart-paste-non-orgchart-shape")}Wm(a,b){return(a=
b.vN.value.get(Uc7U(a)))&&a.some(c=>c.jg())}iU(a,b=!0){const c=Uc9Df(this.On.Poa(),this.document).page;c.Title=a||i18n.get("plugin-orgchart2-my-organization");a=this.document.iU(c);return(a=this.document.pages.get(a))?(UcJQ(this.viewport,a),b&&UczNj(this,1),a):null}Ovf(a,b){return{identifier:Uczg(),type:"AddedFields",name:"optionals",Kd:a,aF:Uczg(),LR:b}}AOb(){return{w:UcsFj.w,h:UcsFj.h}}gja(){const a=new UcwNj(this.user.getId(),"created org chart");this.Ya.fireEvent(a.toJSON())}};
UcI4.prototype.wsc=Ucba(657);UcI4.prototype.zwb=Ucba(655);UcI4=__decorate([Ucr(),__param(0,Ucpn(UcpZ)),__metadata("design:paramtypes",[void 0,UcMQ,UcFo,Uc6,UcKB,UcO_e,UcDH,Uc7B,UcHE,Ucfs,Ucz0,UcrW,UcTE,UcyNj])],UcI4);
//# sourceURL=/js/application/universalcanvas_app/chunk/gen_28000000000080000000000000000.js?compiled=1
